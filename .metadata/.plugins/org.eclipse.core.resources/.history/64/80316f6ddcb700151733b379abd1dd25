package com.http.ImplementProtocalBySocket;

import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.ServerSocket;
import java.net.Socket;

public enum Encode {
	GBK((byte)0), UTF8((byte)1);
	
	private byte value = 1;
	
	private Encode(byte value){
		this.value = value;
	}
	
	public byte getValue(){
		return value;
	}
}

// Server side
public class Server {

	public static void main(String[] args) throws IOException {
			ServerSocket server = new ServerSocket(6666);
			
			while(true){
				Socket client = server.accept();
				
				// Read request data
				InputStream input = client.getInputStream();
				Request request = ProtocolUtil.readRequest(input);
				
				OutputStream output = client.getOutputStream();
				// Write response data
				Response response = new Response();				
				response.setEncode(Encode.UTF8.getValues());
				
			}
	}

}
